<div class="sidebar">
  <div class="usuario-contenedor">
    <div class="usuario-box">
      <p>👋 Hola, <strong>{{ nombreUsuario }}</strong></p>
    </div>

    <div class="menu-superior">
      <button (click)="navegar('/dashboard')">🏠 Inicio</button>

      <!-- Solo para admin -->
      <ng-container *ngIf="usuario?.rol === 'admin'">
        <button (click)="navegar('/usuarios')">👥 Usuarios</button>
        <button (click)="navegar('/crear-admin')">➕🛡️ Crear Admin</button>
        <button (click)="navegar('/periodos')">🗓️⚙️ Gestión Periodos</button>
        <button (click)="navegar('/lista-periodos')">📅 Lista de Periodos</button>
        <button (click)="navegar('/info-publica')">📢 Información Pública</button>
        <button (click)="navegar('/list-solicitudes')">📋 Lista de Solicitudes</button>
        <button (click)="navegar('/postulacion-servicio')"> 📋 Postulación a Estudiantes</button>
        <button (click)="navegar('/requisitos-anexo')">📄 Requisitos Anexo</button>
        <button (click)="navegar('/porcentaje-carrera')">Porcentaje de Becas</button>
        <button (click)="navegar('/reporte')">📊 Reportes</button>
      </ng-container>

      <!-- Solo para estudiante -->
      <ng-container *ngIf="usuario?.rol === 'student'">
        <button
          [disabled]="bloqueadoPorSemestre"
          [class.disabled]="bloqueadoPorSemestre"
          [attr.title]="bloqueadoPorSemestre ? 'Disponible a partir del 2.º semestre' : null"
          (click)="navegarPostulacion()"
        >
          📝 Postulación a Servicio
        </button>

        <!-- Aviso si está bloqueado por semestre -->
        <div *ngIf="bloqueadoPorSemestre" style="margin:6px 0 10px; font-size:12px; color:#b42318; line-height:1.3;">
          ⚠️ Solo disponible a partir del <strong>2.º semestre</strong>.
          <br />
          <small *ngIf="semestreNumero !== null">Tu semestre registrado: {{ semestreNumero }}° Semestre</small>
        </div>

        <button (click)="navegar('/revision-solicitud')">🔍 Revisión de Solicitud</button>
      </ng-container>
    </div>
  </div>

  <div class="menu-inferior">
    <button class="logout" (click)="logout()">🚪 Cerrar sesión</button>
  </div>
</div>
