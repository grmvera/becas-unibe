<div *ngIf="periodoActivo" class="contenedor">
  <h2>Tipo de servicio</h2>

  <div class="menu-servicios">
    <div *ngFor="let servicio of tiposServicios" class="opcion"
      [ngClass]="{ 'activo': servicioSeleccionado === servicio }" (click)="seleccionarServicio(servicio)">
      {{ servicio }}
    </div>
  </div>

  <div *ngIf="servicioSeleccionado === 'TIPOS DE BECAS'" class="subopciones">
    <div class="subopcion" *ngFor="let beca of becas" (click)="seleccionarBeca(beca)">
      {{ beca }}
    </div>
  </div>

  <!-- Etapa 1: Datos personales -->
  <app-datos-personales *ngIf="servicioSeleccionado !== 'GUARDERÍA' && etapaFormulario === 1"
    [form]="datosPersonalesForm" (pasoCompletado)="avanzarGrupoFamiliar($event)">
  </app-datos-personales>

  <!-- Etapa 2: Grupo familiar -->
  <app-datos-grupo-familiar *ngIf="servicioSeleccionado !== 'GUARDERÍA' && etapaFormulario === 2"
    [form]="grupoFamiliarForm" (volverAtras)="regresarADatosPersonales()"
    (avanzarSocioeconomico)="avanzarDatosSocioeconomico($event)">
  </app-datos-grupo-familiar>

  <!-- Etapa 3: Socioeconómico -->
  <app-datos-socioeconomico *ngIf="servicioSeleccionado !== 'GUARDERÍA' && etapaFormulario === 3"
    [form]="socioeconomicoForm" (volverAtras)="etapaFormulario = 2" (avanzarSalud)="avanzarDatosSalud($event)">
  </app-datos-socioeconomico>

  <!-- Etapa 4: Salud -->
  <app-dato-salud *ngIf="servicioSeleccionado !== 'GUARDERÍA' && etapaFormulario === 4" [form]="datosSaludForm"
    (volverAtras)="etapaFormulario = 3" (avanzarDiscapacidad)="avanzarDatosDiscapacidad($event)">
  </app-dato-salud>

  <!-- Etapa 5: Discapacidad -->
  <app-dato-discapacidad *ngIf="servicioSeleccionado !== 'GUARDERÍA' && etapaFormulario === 5"
    [form]="datosDiscapacidadForm" (volverAtras)="regresarADiscapacidad()"
    (avanzarAnexoCarnet)="avanzarDatosAnexoCarnet($event)">
  </app-dato-discapacidad>

  <!-- Etapa 6: Anexo Carnet -->
  <app-anexo-carnet *ngIf="servicioSeleccionado !== 'GUARDERÍA' && etapaFormulario === 6" [form]="anexoCarnetForm"
    (volverAtras)="etapaFormulario = 5" (finalizar)="enviarFormularioFinal($event)">
  </app-anexo-carnet>

  <!-- Etapa exclusiva: Guardería -->
  <app-dato-guarderia *ngIf="servicioSeleccionado === 'GUARDERÍA'" (finalizar)="enviarFormularioGuarderia($event)">
  </app-dato-guarderia>




</div>

<div *ngIf="!periodoActivo" class="sin-periodo">
  <p><i class="fa-solid fa-triangle-exclamation"></i> No hay un periodo activo actualmente.</p>
</div>